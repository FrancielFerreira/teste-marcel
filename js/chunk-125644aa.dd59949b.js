(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-125644aa"],{2639:function(t,e,s){"use strict";s("b175")},"28e3":function(t,e,s){t.exports=s.p+"img/icon-search-white.38cb0b80.svg"},6219:function(t,e,s){t.exports=s.p+"img/image-empty.a13d9b54.svg"},6819:function(t,e,s){t.exports=s.p+"img/icon-search.59144943.svg"},b175:function(t,e,s){},fd3f:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"blog"},[this.empty?t._e():a("section",{staticClass:"hero-blog",style:{"background-image":"url("+t.heroImage+")"}},[a("div",{staticClass:"hero-mask"}),t._l(this.mainPost,(function(e){return a("div",{key:e.id,staticClass:"container",attrs:{value:e.id}},[a("h1",[t._v(t._s(e.attributes.title))]),a("p",[t._v(t._s(e.attributes.description))]),a("router-link",{staticClass:"button-overlay",attrs:{to:{name:"BlogPost",params:{slug:e.attributes.slug}}}},[t._v(" Ler mais ")])],1)}))],2),this.empty?t._e():a("section",{staticClass:"blog-search"},[a("div",{staticClass:"container"},[a("div",{staticClass:"search"},[a("img",{attrs:{src:s("6819"),alt:""}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],attrs:{type:"text",placeholder:"Buscar notícias"},domProps:{value:t.searchText},on:{change:function(e){return t.searchChange()},input:function(e){e.target.composing||(t.searchText=e.target.value)}}}),a("a",{staticClass:"button-primary",on:{click:function(e){return t.searchChange()}}},[a("img",{attrs:{src:s("28e3"),alt:""}})])])])]),this.empty?t._e():a("section",{staticClass:"news"},[t._m(0),a("div",{staticClass:"container container-news"},t._l(this.lastPosts,(function(e){return a("div",{key:e.id,staticClass:"box-news",attrs:{value:e.id}},[a("img",{staticClass:"news-image",attrs:{alt:"",src:e.attributes.banner_url}}),a("h3",[t._v(t._s(e.attributes.title))]),a("p",[t._v(t._s(e.attributes.description))]),a("router-link",{attrs:{to:{name:"BlogPost",params:{slug:e.attributes.slug}}}},[t._v(" Ler mais ")])],1)})),0)]),this.empty?a("div",{staticClass:"empty"},[a("img",{attrs:{src:s("6219"),alt:""}}),a("h3",[t._v("Oops!")]),a("p",[t._v(" Ainda não temos nenhuma postagem, em breve teremos muito conteúdo.")])]):t._e(),this.empty?t._e():a("section",{staticClass:"other-news"},[t._m(1),a("div",{staticClass:"container container-news"},t._l(this.othersPosts,(function(e){return a("div",{key:e.id,staticClass:"box-news",attrs:{value:e.id}},[a("img",{staticClass:"news-image",attrs:{alt:"",src:e.attributes.banner_url}}),a("div",{staticClass:"news-content"},[a("h3",[t._v(t._s(e.attributes.title))]),a("p",[t._v(t._s(e.attributes.description))]),a("router-link",{attrs:{to:{name:"BlogPost",params:{slug:e.attributes.slug}}}},[t._v(" Ler mais ")])],1)])})),0)]),t.totalItems<6||t.toggleButtonMore?a("div",{staticClass:"view-more"},[a("a",{on:{click:function(e){return t.viewMore()}}},[t._v("Carregar mais")])]):t._e()])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("h2",[s("span",[t._v("Últimas")]),t._v("Notícias")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("h2",[s("span",[t._v("Outras")]),t._v("Notícias")])])}],i=s("c7eb"),n=s("1da1"),o=(s("fb6a"),s("9072")),c={name:"Blog",data:function(){return{empty:!1,mainPost:{},heroImage:"",lastPosts:[],searchText:"",othersPosts:[],currentPage:1,perPage:5,totalItems:0,totalPages:0,toggleButtonMore:!0}},mounted:function(){this.getPosts()},methods:{getPosts:function(){var t=this;return Object(n["a"])(Object(i["a"])().mark((function e(){var s,a;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,s={perPage:t.perPage,page:t.currentPage},e.next=4,o["a"].listPosts(s);case 4:a=e.sent,t.totalItems=a.data.meta.count,t.totalPages=a.data.meta.pages,t.currentPage=a.data.meta.page,t.empty=0===a.data.data.count,t.mainPost=a.data.data.slice(0,1),t.heroImage=a.data.data[0].attributes.banner_url,t.lastPosts=a.data.data.slice(1,4),t.othersPosts=a.data.data.slice(4),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),console.log("Ocorreu um erro inesperado.");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))()},searchChange:function(){this.$router.push("/blog/pesquisar/".concat(this.searchText))},viewMore:function(){this.currentPage<this.totalPages&&(this.perPage=this.perPage+5,this.getPosts()),this.perPage>=this.totalItems&&(this.toggleButtonMore=!1)}}},l=c,u=(s("2639"),s("2877")),m=Object(u["a"])(l,a,r,!1,null,"6ccd75fc",null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-125644aa.dd59949b.js.map