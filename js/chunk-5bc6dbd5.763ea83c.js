(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5bc6dbd5"],{"28e3":function(e,t,a){e.exports=a.p+"img/icon-search-white.38cb0b80.svg"},"38aa":function(e,t,a){},6219:function(e,t,a){e.exports=a.p+"img/image-empty.a13d9b54.svg"},6819:function(e,t,a){e.exports=a.p+"img/icon-search.59144943.svg"},7066:function(e,t,a){"use strict";a("38aa")},"94a0":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"properties-list"},[s("section",{staticClass:"properties-header"},[s("div",{staticClass:"container"},[s("ul",[e.stateSelected.attributes?s("li",[e._v(e._s(this.stateSelected.attributes.name))]):e._e(),e.citySelected.attributes?s("li",[s("span",[e._v("•")]),e._v(e._s(this.citySelected.attributes.name))]):e._e()])])]),s("section",{staticClass:"properties-filter"},[s("div",{staticClass:"container"},[s("div",{staticClass:"search"},[s("img",{attrs:{src:a("6819"),alt:""}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.searchText,expression:"searchText"}],attrs:{type:"text",placeholder:"Buscar"},domProps:{value:e.searchText},on:{change:function(t){return e.searchChange()},input:function(t){t.target.composing||(e.searchText=t.target.value)}}}),s("a",{staticClass:"button-primary",on:{click:function(t){return e.searchChange()}}},[s("img",{attrs:{src:a("28e3"),alt:""}})])]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.stateSelected,expression:"stateSelected"}],staticClass:"select",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.stateSelected=t.target.multiple?a:a[0]},e.stateChange]}},[s("option",{attrs:{value:""}},[e._v("Local")]),e._l(this.states,(function(t){return s("option",{key:t.id,domProps:{value:t}},[e._v(e._s("Todos"==t.attributes.name?"Todos locais":t.attributes.name))])}))],2),s("select",{directives:[{name:"model",rawName:"v-model",value:e.citySelected,expression:"citySelected"}],staticClass:"select",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.citySelected=t.target.multiple?a:a[0]},e.cityChange]}},[s("option",{attrs:{value:""}},[e._v("Cidade")]),e._l(this.cities,(function(t){return s("option",{key:t.id,domProps:{value:t}},[e._v(e._s("Todos"==t.attributes.name?"Todas cidades":t.attributes.name))])}))],2),s("select",{directives:[{name:"model",rawName:"v-model",value:e.benefitsSelected,expression:"benefitsSelected"}],staticClass:"select",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.benefitsSelected=t.target.multiple?a:a[0]},e.benefitsChange]}},[s("option",{attrs:{value:""}},[e._v("Vantagens")]),e._l(this.benefits,(function(t){return s("option",{key:t.id,domProps:{value:t}},[e._v(e._s("Todos"==t.attributes.name?"Todas vantagens":t.attributes.name))])}))],2)])]),e.loader?s("div",{staticClass:"loader"},[s("img",{attrs:{src:a("fa5e"),alt:""}}),s("p",[e._v("Carregando imóveis...")])]):e._e(),!e.loader&&e.empty?s("div",{staticClass:"empty"},[s("img",{attrs:{src:a("6219"),alt:""}}),s("h3",[e._v("Oops!")]),s("p",[e._v("Não foi possivel encontrar o que está procurando, filtre novamente e encontre o imóvel ideal.")])]):e._e(),e.loader?e._e():s("section",{staticClass:"properties-section"},[s("div",{staticClass:"container container-properties"},e._l(this.properties,(function(t){return s("div",{key:t.id,staticClass:"box-properties",attrs:{value:t.id}},[s("router-link",{attrs:{to:{name:"Properties",params:{slug:t.attributes.slug,id:t.id}},exact:""}},[t.attributes.building.banner_url?s("img",{staticClass:"properties-image",attrs:{alt:"",src:t.attributes.building.banner_url}}):e._e(),t.attributes.building.banner_url?e._e():s("img",{staticClass:"properties-image",attrs:{src:a("dc1f"),alt:""}}),s("div",{staticClass:"properties-content"},[s("p",{staticClass:"tag"},[e._v(e._s(e.getStatus(t.attributes.status)))]),s("div",[s("router-link",{attrs:{to:{name:"Properties",params:{slug:t.attributes.slug,id:t.id}},exact:""}},[s("img",{staticClass:"logo",attrs:{alt:"",src:t.attributes.building.logo_url}})]),s("router-link",{attrs:{to:{name:"Properties",params:{slug:t.attributes.slug,id:t.id}},exact:""}},[s("h3",[e._v(e._s(t.attributes.name))])]),s("router-link",{attrs:{to:{name:"Properties",params:{slug:t.attributes.slug,id:t.id}},exact:""}},[s("p",{staticClass:"locale"},[e._v(e._s(t.attributes.address))])]),e._l(t.attributes.features.slice(0,2),(function(t){return s("p",{key:t.id,staticClass:"infos",attrs:{value:t.id}},[e._v(" "+e._s(t.name)+" ")])}))],2)])])],1)})),0),e.toggleButtonMore?s("div",{staticClass:"view-more"},[s("a",{on:{click:function(t){return e.viewMore()}}},[e._v("Carregar mais")])]):e._e()])])},r=[],i=a("c7eb"),n=a("1da1"),o=(a("99af"),a("010b")),c=a("427e"),l={name:"PropertiesList",data:function(){return{loader:!1,empty:!1,firstValue:{id:"",attributes:{name:"Todos"}},properties:[],states:[],cities:[],benefits:[],prices:[],stateSelected:{},citySelected:{},priceSelected:"",sortType:"",benefitsSelected:"",searchText:void 0,currentPage:1,perPage:12,totalItems:0,totalPages:0,toggleButtonMore:!0}},mounted:function(){var e=this.$route.params.state,t=this.$route.params.city;null!=e&&null!=t?this.retrieveValuesFromHome(e,t):(this.initialize(),this.getStates()),this.getProperties(),this.getBenefits()},methods:{initialize:function(){this.states=[this.firstValue],this.cities=[this.firstValue],this.benefits=[this.firstValue],this.stateSelected=this.firstValue,this.citySelected=this.firstValue,this.benefitsSelected=this.firstValue},viewMore:function(){this.currentPage<this.totalPages&&(this.perPage=this.perPage+12,this.getProperties()),this.perPage>=this.totalItems&&(this.toggleButtonMore=!1)},getStatus:function(e){var t="-";switch(e){case"under_construction":t="Em construção";break;case"release":t="Lançamento";break;case"ready_live":t="Pronto para morar";break;case"ready_build":t="Pronto para construir";break;case"pre_release":t="Pré Lançamento";break;case"done":t="Pronto";break;case"sold":t="100% vendido";break}return t},retrieveValuesFromHome:function(e,t){this.states=this.$route.params.states,this.cities=this.$route.params.cities,this.stateSelected=e,this.citySelected=t,this.benefitsSelected=this.firstValue},getProperties:function(){var e=this;return Object(n["a"])(Object(i["a"])().mark((function t(){var a,s,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loader=!0,t.prev=1,a={search:e.searchText,state_id:e.stateSelected.id,region_id:e.citySelected.id,price:e.sortType,feature_id:e.benefitsSelected.id,currentPage:e.currentPage,perPage:e.perPage,is_visible:!0},s={perPage:e.perPage,page:e.currentPage},t.next=6,o["a"].listProperties(a,s);case 6:r=t.sent,e.totalItems=r.data.meta.count,e.totalPages=r.data.meta.pages,e.currentPage=r.data.meta.page,e.properties=r.data.data,e.loader=!1,r.data.data.length<1?e.empty=!0:e.empty=!1,t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](1),console.log("Ocorreu um erro inesperado.");case 18:case"end":return t.stop()}}),t,null,[[1,15]])})))()},getStates:function(){var e=this;return Object(n["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loader=!0,t.prev=1,t.next=4,c["a"].retrieveStates();case 4:a=t.sent,e.states=[].concat.apply(e.states,a.data.data),e.loader=!1,a.data.data.length<1?e.empty=!0:e.empty=!1,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log("Ocorreu um erro inesperado.");case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},getCities:function(e){var t=this;return Object(n["a"])(Object(i["a"])().mark((function a(){var s,r;return Object(i["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loader=!0,a.prev=1,s={state_id:e},a.next=5,c["a"].retrieveRegions(s);case 5:r=a.sent,t.cities=[].concat.apply([t.firstValue],r.data.data),t.loader=!1,r.data.data.length<1?t.empty=!0:t.empty=!1,a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](1),console.log("Ocorreu um erro inesperado.");case 14:case"end":return a.stop()}}),a,null,[[1,11]])})))()},getBenefits:function(){var e=this;return Object(n["a"])(Object(i["a"])().mark((function t(){var a;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loader=!0,t.prev=1,t.next=4,o["a"].getBenefits();case 4:a=t.sent,e.benefits=[].concat.apply([e.firstValue],a.data.data),e.loader=!1,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log("Ocorreu um erro inesperado.");case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},searchChange:function(e){this.getProperties()},stateChange:function(){var e=this.stateSelected.id;this.citySelected=this.cities[0],this.getCities(e),this.getProperties()},cityChange:function(){this.getProperties()},orderChange:function(){this.getProperties()},benefitsChange:function(){this.getProperties()}}},u=l,p=(a("7066"),a("2877")),d=Object(p["a"])(u,s,r,!1,null,"ba596976",null);t["default"]=d.exports},dc1f:function(e,t,a){e.exports=a.p+"img/placeholder-properties.88f63991.png"},fa5e:function(e,t,a){e.exports=a.p+"img/loader.3130ec33.gif"}}]);
//# sourceMappingURL=chunk-5bc6dbd5.763ea83c.js.map